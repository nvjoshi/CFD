function[x_f,y_f,z_f,x_fr,y_fr,z_fr,x3,y3,z3,x4,y4,z4] = puma(theta,phi,psi,delta,beta,slider,alpha)
x_i=slider;
y_i=0;
z_i=0;
x_ir=-1*slider;
y_ir=0;
z_ir=0;
theta=theta*pi/180;
phi=phi*pi/180;
psi=psi*pi/180;
delta=delta*pi/180;
beta=beta*pi/180;
alpha=alpha*pi/180;
p_3_i = [x_i;y_i;z_i;1];
p_3_ir = [x_ir;y_ir;z_ir;1];
T_1=[cos(theta),-1*sin(theta),0,0;sin(theta),cos(theta),0,0;0,0,1,0;0,0,0,1];
T_2=[1,0,0,0;0,cos(phi),-1*sin(phi),0;0,sin(phi),cos(phi),26.45;0,0,0,1];
T_3=[1,0,0,0;0,cos(psi),-1*sin(psi),17;0,sin(psi),cos(psi),0;0,0,0,1];
T_4=[cos(delta),0,sin(delta),0;0,1,0,17.5;-1*sin(delta),0,cos(delta),0;0,0,0,1];
T_5=[1,0,0,0;0,cos(beta),-1*sin(beta),0;0,sin(beta),cos(beta),0;0,0,0,1];
T_6=[cos(alpha),0,sin(alpha),0;0,1,0,0;-1*sin(alpha),0,cos(alpha),0;0,0,0,1];
T_7=[1,0,0,0;0,1,0,6;0,0,1,0;0,0,0,1];
T=T_1*T_2*T_3*T_4*T_5*T_6*T_7;
P_f=T*p_3_i;
x_f = P_f(1)
y_f = P_f(2)
z_f = P_f(3)
P_fr=T*p_3_ir;
x_fr = P_fr(1)
y_fr = P_fr(2)
z_fr = P_fr(3)
T3=T_1*T_2;
P3 = T3*[0 ;17; 0;1];
x3=P3(1)
y3=P3(2)
z3=P3(3)
T4 = T_1*T_2*T_3;
P4 = T4*[0;17.5;0;1];
x4=P4(1)
y4=P4(2)
z4=P4(3)
end
